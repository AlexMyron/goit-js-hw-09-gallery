{"version":3,"sources":["js/gallery-items.js","js/gallery.js","index.js"],"names":["preview","original","description","galleryEl","document","querySelector","modalEl","modalImgEl","addEventListener","onClickModalOpen","onClickModalClose","onClickOverlayModalClose","window","onKeydownBtnModalClose","onKeydownNextImg","onKeydownPrewImg","markupString","createMarkup","gallery","renderMarkup","arrOfSrces","map","e","arrOfDescr","arr","join","string","parentNode","insertAdjacentHTML","preventDefault","target","classList","contains","add","updateAttr","dataset","source","alt","src","code","closeModal","action","remove","length","bufferValue","forEach","idx"],"mappings":"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","file":"src.2486b7f7.js","sourceRoot":"../src","sourcesContent":["export default [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\n","import gallery from './gallery-items.js';\n\nconst galleryEl = document.querySelector('.js-gallery');\nconst modalEl = document.querySelector('.js-lightbox');\nconst modalImgEl = document.querySelector('.lightbox__image');\n\ngalleryEl.addEventListener('click', onClickModalOpen);\nmodalEl.addEventListener('click', onClickModalClose);\nmodalEl.addEventListener('click', onClickOverlayModalClose);\nwindow.addEventListener('keydown', onKeydownBtnModalClose);\nwindow.addEventListener('keydown', onKeydownNextImg);\nwindow.addEventListener('keydown', onKeydownPrewImg);\n\nconst markupString = createMarkup(gallery);\nrenderMarkup(markupString, galleryEl);\nconst arrOfSrces = gallery.map(e => e.original);\nconst arrOfDescr = gallery.map(e => e.description);\n\nfunction createMarkup(arr) {\n  return arr\n    .map(({ preview, original, description }) => {\n      return `<li class=\"gallery__item\">\n        <a\n          class=\"gallery__link\"\n          href=\"${original}\"\n        >\n          <img\n            class=\"gallery__image\"\n            src=\"${preview}\"\n            data-source=\"${original}\"\n            alt=\"${description}\"\n          />\n        </a>\n      </li>`;\n    })\n    .join('');\n}\n\nfunction renderMarkup(string, parentNode) {\n  parentNode.insertAdjacentHTML('beforeend', string);\n}\n\nfunction onClickModalOpen(e) {\n  e.preventDefault();\n\n  if (!e.target.classList.contains('gallery__image')) {\n    return;\n  }\n\n  modalEl.classList.add('is-open');\n\n  updateAttr(e.target.dataset.source, e.target.alt);\n}\n\nfunction updateAttr(src, alt) {\n  modalImgEl.src = src;\n  modalImgEl.alt = alt;\n}\n\nfunction onKeydownBtnModalClose(e) {\n  if (e.code !== 'Escape') {\n    return;\n  }\n  closeModal();\n}\n\nfunction onClickModalClose(e) {\n  if (e.target.dataset.action !== 'close-lightbox') {\n    return;\n  }\n  closeModal();\n}\n\nfunction onClickOverlayModalClose(e) {\n  if (e.target.classList.contains('lightbox__image')) {\n    return;\n  }\n  closeModal();\n}\n\nfunction closeModal() {\n  modalEl.classList.remove('is-open');\n  updateAttr('', '');\n}\n\nfunction onKeydownNextImg(e) {\n  if (\n    e.code !== 'ArrowRight' ||\n    modalImgEl.src === arrOfSrces[arrOfSrces.length - 1]\n  ) {\n    return;\n  }\n\n  let bufferValue;\n  arrOfSrces.forEach((source, idx) => {\n    if (modalImgEl.src === source) {\n      updateAttr('', '');\n      modalImgEl.alt = arrOfDescr[idx + 1];\n      bufferValue = arrOfSrces[idx + 1];\n    }\n  });\n  return (modalImgEl.src = bufferValue);\n}\n\nfunction onKeydownPrewImg(e) {\n  if (e.code !== 'ArrowLeft' || modalImgEl.src === arrOfSrces[0]) {\n    return;\n  }\n\n  arrOfSrces.forEach((source, idx) => {\n    if (modalImgEl.src === source) {\n      updateAttr('', '');\n      modalImgEl.alt = arrOfDescr[idx - 1];\n      return (modalImgEl.src = arrOfSrces[idx - 1]);\n    }\n  });\n}\n","import './sass/main.scss';\nimport './js/gallery';\n"]}